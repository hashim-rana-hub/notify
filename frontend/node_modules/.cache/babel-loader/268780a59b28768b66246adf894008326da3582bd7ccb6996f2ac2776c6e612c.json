{"ast":null,"code":"import { LOGIN_USER_SUCCESS, LOGIN_USER_FAIL, LOGIN_USER_REQUEST, LOGOUT_USER_REQUEST, LOGOUT_USER_SUCCESS, LOGOUT_USER_FAIL, REGISTER_USER_REQUEST, REGISTER_USER_SUCCESS, REGISTER_USER_FAIL } from \"../constants/userConstants\";\nimport axios from \"axios\";\nimport { API_URL } from \"./forgotPasswordActions\";\nexport const userLogin = userInfo => async dispatch => {\n  try {\n    dispatch({\n      type: LOGIN_USER_REQUEST\n    });\n    const {\n      data\n    } = await axios.post(`${API_URL}/api/v1/user/login`, userInfo, {\n      withCredentials: true\n    });\n    dispatch({\n      type: LOGIN_USER_SUCCESS,\n      payload: data.user\n    });\n    localStorage.setItem(\"user\", JSON.stringify(data.user));\n  } catch (error) {\n    dispatch({\n      type: LOGIN_USER_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\nexport const userLogout = () => async dispatch => {\n  try {\n    dispatch({\n      type: LOGOUT_USER_REQUEST\n    });\n    const {\n      data\n    } = await axios.get(`${API_URL}/api/v1/user/logout`, {\n      withCredentials: true\n    });\n    dispatch({\n      type: LOGOUT_USER_SUCCESS,\n      payload: data.message\n    });\n    localStorage.removeItem(\"user\");\n  } catch (error) {\n    dispatch({\n      type: LOGOUT_USER_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\nexport const userRegister = userInfo => async dispatch => {\n  try {\n    dispatch({\n      type: REGISTER_USER_REQUEST\n    });\n    const {\n      data\n    } = await axios.post(`${API_URL}/api/v1/user/register`, userInfo, {\n      withCredentials: true\n    });\n    dispatch({\n      type: REGISTER_USER_SUCCESS,\n      payload: data.user\n    });\n    dispatch({\n      type: LOGIN_USER_SUCCESS,\n      payload: data.user\n    });\n    localStorage.setItem(\"user\", JSON.stringify(data.user));\n  } catch (error) {\n    dispatch({\n      type: REGISTER_USER_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};","map":{"version":3,"names":["LOGIN_USER_SUCCESS","LOGIN_USER_FAIL","LOGIN_USER_REQUEST","LOGOUT_USER_REQUEST","LOGOUT_USER_SUCCESS","LOGOUT_USER_FAIL","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","REGISTER_USER_FAIL","axios","API_URL","userLogin","userInfo","dispatch","type","data","post","withCredentials","payload","user","localStorage","setItem","JSON","stringify","error","response","message","userLogout","get","removeItem","userRegister"],"sources":["/Users/apple/Documents/Notiy/frontend/src/actions/userActions.js"],"sourcesContent":["import {\n  LOGIN_USER_SUCCESS,\n  LOGIN_USER_FAIL,\n  LOGIN_USER_REQUEST,\n  LOGOUT_USER_REQUEST,\n  LOGOUT_USER_SUCCESS,\n  LOGOUT_USER_FAIL,\n  REGISTER_USER_REQUEST,\n  REGISTER_USER_SUCCESS,\n  REGISTER_USER_FAIL,\n} from \"../constants/userConstants\";\nimport axios from \"axios\";\nimport { API_URL } from \"./forgotPasswordActions\";\n\nexport const userLogin = (userInfo) => async (dispatch) => {\n  try {\n    dispatch({\n      type: LOGIN_USER_REQUEST,\n    });\n\n    const { data } = await axios.post(\n      `${API_URL}/api/v1/user/login`,\n      userInfo,\n      {\n        withCredentials: true,\n      }\n    );\n\n    dispatch({\n      type: LOGIN_USER_SUCCESS,\n      payload: data.user,\n    });\n\n    localStorage.setItem(\"user\", JSON.stringify(data.user));\n  } catch (error) {\n    dispatch({\n      type: LOGIN_USER_FAIL,\n      payload: error.response.data.message,\n    });\n  }\n};\n\nexport const userLogout = () => async (dispatch) => {\n  try {\n    dispatch({\n      type: LOGOUT_USER_REQUEST,\n    });\n\n    const { data } = await axios.get(`${API_URL}/api/v1/user/logout`, {\n      withCredentials: true,\n    });\n\n    dispatch({\n      type: LOGOUT_USER_SUCCESS,\n      payload: data.message,\n    });\n\n    localStorage.removeItem(\"user\");\n  } catch (error) {\n    dispatch({\n      type: LOGOUT_USER_FAIL,\n      payload: error.response.data.message,\n    });\n  }\n};\n\nexport const userRegister = (userInfo) => async (dispatch) => {\n  try {\n    dispatch({\n      type: REGISTER_USER_REQUEST,\n    });\n\n    const { data } = await axios.post(\n      `${API_URL}/api/v1/user/register`,\n      userInfo,\n      {\n        withCredentials: true,\n      }\n    );\n\n    dispatch({\n      type: REGISTER_USER_SUCCESS,\n      payload: data.user,\n    });\n\n    dispatch({\n      type: LOGIN_USER_SUCCESS,\n      payload: data.user,\n    });\n\n    localStorage.setItem(\"user\", JSON.stringify(data.user));\n  } catch (error) {\n    dispatch({\n      type: REGISTER_USER_FAIL,\n      payload: error.response.data.message,\n    });\n  }\n};\n"],"mappings":"AAAA,SACEA,kBAAkB,EAClBC,eAAe,EACfC,kBAAkB,EAClBC,mBAAmB,EACnBC,mBAAmB,EACnBC,gBAAgB,EAChBC,qBAAqB,EACrBC,qBAAqB,EACrBC,kBAAkB,QACb,4BAA4B;AACnC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,yBAAyB;AAEjD,OAAO,MAAMC,SAAS,GAAIC,QAAQ,IAAK,MAAOC,QAAQ,IAAK;EACzD,IAAI;IACFA,QAAQ,CAAC;MACPC,IAAI,EAAEZ;IACR,CAAC,CAAC;IAEF,MAAM;MAAEa;IAAK,CAAC,GAAG,MAAMN,KAAK,CAACO,IAAI,CAC9B,GAAEN,OAAQ,oBAAmB,EAC9BE,QAAQ,EACR;MACEK,eAAe,EAAE;IACnB,CACF,CAAC;IAEDJ,QAAQ,CAAC;MACPC,IAAI,EAAEd,kBAAkB;MACxBkB,OAAO,EAAEH,IAAI,CAACI;IAChB,CAAC,CAAC;IAEFC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACR,IAAI,CAACI,IAAI,CAAC,CAAC;EACzD,CAAC,CAAC,OAAOK,KAAK,EAAE;IACdX,QAAQ,CAAC;MACPC,IAAI,EAAEb,eAAe;MACrBiB,OAAO,EAAEM,KAAK,CAACC,QAAQ,CAACV,IAAI,CAACW;IAC/B,CAAC,CAAC;EACJ;AACF,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGA,CAAA,KAAM,MAAOd,QAAQ,IAAK;EAClD,IAAI;IACFA,QAAQ,CAAC;MACPC,IAAI,EAAEX;IACR,CAAC,CAAC;IAEF,MAAM;MAAEY;IAAK,CAAC,GAAG,MAAMN,KAAK,CAACmB,GAAG,CAAE,GAAElB,OAAQ,qBAAoB,EAAE;MAChEO,eAAe,EAAE;IACnB,CAAC,CAAC;IAEFJ,QAAQ,CAAC;MACPC,IAAI,EAAEV,mBAAmB;MACzBc,OAAO,EAAEH,IAAI,CAACW;IAChB,CAAC,CAAC;IAEFN,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC;EACjC,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdX,QAAQ,CAAC;MACPC,IAAI,EAAET,gBAAgB;MACtBa,OAAO,EAAEM,KAAK,CAACC,QAAQ,CAACV,IAAI,CAACW;IAC/B,CAAC,CAAC;EACJ;AACF,CAAC;AAED,OAAO,MAAMI,YAAY,GAAIlB,QAAQ,IAAK,MAAOC,QAAQ,IAAK;EAC5D,IAAI;IACFA,QAAQ,CAAC;MACPC,IAAI,EAAER;IACR,CAAC,CAAC;IAEF,MAAM;MAAES;IAAK,CAAC,GAAG,MAAMN,KAAK,CAACO,IAAI,CAC9B,GAAEN,OAAQ,uBAAsB,EACjCE,QAAQ,EACR;MACEK,eAAe,EAAE;IACnB,CACF,CAAC;IAEDJ,QAAQ,CAAC;MACPC,IAAI,EAAEP,qBAAqB;MAC3BW,OAAO,EAAEH,IAAI,CAACI;IAChB,CAAC,CAAC;IAEFN,QAAQ,CAAC;MACPC,IAAI,EAAEd,kBAAkB;MACxBkB,OAAO,EAAEH,IAAI,CAACI;IAChB,CAAC,CAAC;IAEFC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACR,IAAI,CAACI,IAAI,CAAC,CAAC;EACzD,CAAC,CAAC,OAAOK,KAAK,EAAE;IACdX,QAAQ,CAAC;MACPC,IAAI,EAAEN,kBAAkB;MACxBU,OAAO,EAAEM,KAAK,CAACC,QAAQ,CAACV,IAAI,CAACW;IAC/B,CAAC,CAAC;EACJ;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}